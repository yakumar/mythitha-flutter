# Automatically generated on 2020-10-09 UTC from https://codemagic.io/app/5f78b0e5c184d32fc0148d11/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        IOS_FIREBASE_JSON: |-
          PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBF
          IHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0
          cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+Cjxw
          bGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KCTxrZXk+Q0xJRU5UX0lEPC9rZXk+
          Cgk8c3RyaW5nPjg4Njk1ODM0MDIzNS0wb3AybDZpYTZkc2puOXJmaWJpMzFuMmhl
          NnR2ZHB2cS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbTwvc3RyaW5nPgoJPGtl
          eT5SRVZFUlNFRF9DTElFTlRfSUQ8L2tleT4KCTxzdHJpbmc+Y29tLmdvb2dsZXVz
          ZXJjb250ZW50LmFwcHMuODg2OTU4MzQwMjM1LTBvcDJsNmlhNmRzam45cmZpYmkz
          MW4yaGU2dHZkcHZxPC9zdHJpbmc+Cgk8a2V5PkFQSV9LRVk8L2tleT4KCTxzdHJp
          bmc+QUl6YVN5Q251eVhtTnllU0tfSjJwd29PWnpUb2dFQ1pYWlVyTTNZPC9zdHJp
          bmc+Cgk8a2V5PkdDTV9TRU5ERVJfSUQ8L2tleT4KCTxzdHJpbmc+ODg2OTU4MzQw
          MjM1PC9zdHJpbmc+Cgk8a2V5PlBMSVNUX1ZFUlNJT048L2tleT4KCTxzdHJpbmc+
          MTwvc3RyaW5nPgoJPGtleT5CVU5ETEVfSUQ8L2tleT4KCTxzdHJpbmc+Y29tLmV4
          YW1wbGUubXloaXRoYTwvc3RyaW5nPgoJPGtleT5QUk9KRUNUX0lEPC9rZXk+Cgk8
          c3RyaW5nPm15aGl0aGEtZTk5ZTA8L3N0cmluZz4KCTxrZXk+U1RPUkFHRV9CVUNL
          RVQ8L2tleT4KCTxzdHJpbmc+bXloaXRoYS1lOTllMC5hcHBzcG90LmNvbTwvc3Ry
          aW5nPgoJPGtleT5JU19BRFNfRU5BQkxFRDwva2V5PgoJPGZhbHNlLz4KCTxrZXk+
          SVNfQU5BTFlUSUNTX0VOQUJMRUQ8L2tleT4KCTxmYWxzZS8+Cgk8a2V5PklTX0FQ
          UElOVklURV9FTkFCTEVEPC9rZXk+Cgk8dHJ1ZS8+Cgk8a2V5PklTX0dDTV9FTkFC
          TEVEPC9rZXk+Cgk8dHJ1ZS8+Cgk8a2V5PklTX1NJR05JTl9FTkFCTEVEPC9rZXk+
          Cgk8dHJ1ZS8+Cgk8a2V5PkdPT0dMRV9BUFBfSUQ8L2tleT4KCTxzdHJpbmc+MTo4
          ODY5NTgzNDAyMzU6aW9zOjZkMWJjMjMyZjlkZjYzNzM5MWZjOGU8L3N0cmluZz4K
          CTxrZXk+REFUQUJBU0VfVVJMPC9rZXk+Cgk8c3RyaW5nPmh0dHBzOi8vbXloaXRo
          YS1lOTllMC5maXJlYmFzZWlvLmNvbTwvc3RyaW5nPgo8L2RpY3Q+CjwvcGxpc3Q+
          Cg==
        ANDROID_FIREBASE_JSON: |-
          ewogICJwcm9qZWN0X2luZm8iOiB7CiAgICAicHJvamVjdF9udW1iZXIiOiAiODg2
          OTU4MzQwMjM1IiwKICAgICJmaXJlYmFzZV91cmwiOiAiaHR0cHM6Ly9teWhpdGhh
          LWU5OWUwLmZpcmViYXNlaW8uY29tIiwKICAgICJwcm9qZWN0X2lkIjogIm15aGl0
          aGEtZTk5ZTAiLAogICAgInN0b3JhZ2VfYnVja2V0IjogIm15aGl0aGEtZTk5ZTAu
          YXBwc3BvdC5jb20iCiAgfSwKICAiY2xpZW50IjogWwogICAgewogICAgICAiY2xp
          ZW50X2luZm8iOiB7CiAgICAgICAgIm1vYmlsZXNka19hcHBfaWQiOiAiMTo4ODY5
          NTgzNDAyMzU6YW5kcm9pZDo0ZDY5NzUwODBhNjMwMmIyOTFmYzhlIiwKICAgICAg
          ICAiYW5kcm9pZF9jbGllbnRfaW5mbyI6IHsKICAgICAgICAgICJwYWNrYWdlX25h
          bWUiOiAiY29tLmV4YW1wbGUubXloaXRoYSIKICAgICAgICB9CiAgICAgIH0sCiAg
          ICAgICJvYXV0aF9jbGllbnQiOiBbCiAgICAgICAgewogICAgICAgICAgImNsaWVu
          dF9pZCI6ICI4ODY5NTgzNDAyMzUtcG1iczlmNmRhZjRsZGhnYW9wb2tmcmtiZTVk
          dm1wdTUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLAogICAgICAgICAgImNs
          aWVudF90eXBlIjogMSwKICAgICAgICAgICJhbmRyb2lkX2luZm8iOiB7CiAgICAg
          ICAgICAgICJwYWNrYWdlX25hbWUiOiAiY29tLmV4YW1wbGUubXloaXRoYSIsCiAg
          ICAgICAgICAgICJjZXJ0aWZpY2F0ZV9oYXNoIjogImFiMWZiOTYyN2NkZjlhZWRk
          ODMxMmVlOWVmYmJmMDZhMGQ1ZWJlZmMiCiAgICAgICAgICB9CiAgICAgICAgfSwK
          ICAgICAgICB7CiAgICAgICAgICAiY2xpZW50X2lkIjogIjg4Njk1ODM0MDIzNS1w
          bDFlYmFkMW8wamFhY3EwbGVtNjluM3ZwOXBrYWdkMC5hcHBzLmdvb2dsZXVzZXJj
          b250ZW50LmNvbSIsCiAgICAgICAgICAiY2xpZW50X3R5cGUiOiAzCiAgICAgICAg
          fQogICAgICBdLAogICAgICAiYXBpX2tleSI6IFsKICAgICAgICB7CiAgICAgICAg
          ICAiY3VycmVudF9rZXkiOiAiQUl6YVN5QU1Kd0F3ZnBuUW5abURXemN1TE10Vi1x
          QnRCRTBSVnFVIgogICAgICAgIH0KICAgICAgXSwKICAgICAgInNlcnZpY2VzIjog
          ewogICAgICAgICJhcHBpbnZpdGVfc2VydmljZSI6IHsKICAgICAgICAgICJvdGhl
          cl9wbGF0Zm9ybV9vYXV0aF9jbGllbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAg
          ICAgICAgICAiY2xpZW50X2lkIjogIjg4Njk1ODM0MDIzNS1wbDFlYmFkMW8wamFh
          Y3EwbGVtNjluM3ZwOXBrYWdkMC5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIs
          CiAgICAgICAgICAgICAgImNsaWVudF90eXBlIjogMwogICAgICAgICAgICB9LAog
          ICAgICAgICAgICB7CiAgICAgICAgICAgICAgImNsaWVudF9pZCI6ICI4ODY5NTgz
          NDAyMzUtMG9wMmw2aWE2ZHNqbjlyZmliaTMxbjJoZTZ0dmRwdnEuYXBwcy5nb29n
          bGV1c2VyY29udGVudC5jb20iLAogICAgICAgICAgICAgICJjbGllbnRfdHlwZSI6
          IDIsCiAgICAgICAgICAgICAgImlvc19pbmZvIjogewogICAgICAgICAgICAgICAg
          ImJ1bmRsZV9pZCI6ICJjb20uZXhhbXBsZS5teWhpdGhhIgogICAgICAgICAgICAg
          IH0KICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0KICAgICAgfQog
          ICAgfQogIF0sCiAgImNvbmZpZ3VyYXRpb25fdmVyc2lvbiI6ICIxIgp9
      flutter: beta
      xcode: latest
      cocoapods: default
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - "#!/bin/sh\n echo $ANDROID_FIREBASE_JSON | base64 --decode > $FCI_BUILD_DIR/android/app/google-services.json\n\
        \   \n echo \"Listing android Directory to confirm the google-services.json\
        \ is there! \"\n ls android/app/\n   \n echo $IOS_FIREBASE_JSON | base64 --decode\
        \ > $FCI_BUILD_DIR/ios/Runner/GoogleService-Info.plist\n   \n echo \"\\nListing\
        \ iOS Directory to confirm the GoogleService-Info.plist is there! \"\n ls\
        \ ios/Runner/\n"
      - cd . && flutter build apk --release
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - yakumar_in@yahoo.com
